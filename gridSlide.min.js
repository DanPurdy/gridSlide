if(typeof Object.create!=="function"){Object.create=function(e){function t(){}t.prototype=e;return new t}}(function(e,t,n,r){var s={init:function(t,n){var r=this;r.elem=n;r.$elem=e(n).css({overflow:"hidden"});r.options=e.extend({},e.fn.gridSlide.options,t);r.$navigation=e(this.options.nav);r.list=r.$elem.find("ul");r.imgs=[];r.imgWidth=[];r.imgHeight=[];r.imgsLen=[];r.current=[0,0];for(i=0;i<r.list.length;i++){r.imgs[i]=e(r.list[i]).find("img");r.imgWidth[i]=r.imgs[i][0].width;r.imgHeight[i]=r.imgs[i][0].height;r.imgsLen[i]=r.imgs[i].length;e(r.list[i]).width(r.imgWidth[i]*r.imgsLen[i])}if(r.options.menu==="grid"){r.buildGridNav(r.options.imgGrid)}else if(r.options.menu==="nav"){r.buildNav()}r.attachHandlers()},buildGridNav:function(t){this.gridText='<div class="grid"><div class="grid-nav">';for(i=0;i<this.list.length;i++){if(this.options.title){this.gridText+="<h3>"+e(this.list[i]).data("title")+"</h3>"}this.gridText+='<ul class="grid-nav-layer">';for(j=0;j<this.imgs[i].length;j++){if(i===0&&j===0){this.gridText+='<li class="grid-nav-icon grid-active" data-x="'+j+'" data-y="'+i+'" >';if(t){this.gridText+='<img src="'+e(this.imgs[i][j]).attr("src")+'" alt="'+e(this.imgs[i][j]).attr("alt")+'" >'}this.gridText+="</li>"}else{this.gridText+='<li class="grid-nav-icon" data-x="'+j+'" data-y="'+i+'" >';if(t){this.gridText+='<img src="'+e(this.imgs[i][j]).attr("src")+'" alt="'+e(this.imgs[i][j]).attr("alt")+'" >'}this.gridText+="</li>"}}this.gridText+="</ul>"}this.gridText+="</div></div>";this.$navigation.show().prepend(this.gridText);this.$activeGridEl=e(".grid-active")},buildNav:function(){this.navText='<div class="nav-buttons"><a class="horizontal prev" data-dir="prev">Prev</a>';this.navText+='<a class="vertical up" data-dir="up">Up</a><a class="vertical down" data-dir="down">Down</a>';this.navText+='<a class="horizontal next" data-dir="next">Next</a></div>';this.$navigation.show().append(this.navText)},attachHandlers:function(){var t=this;if(t.options.menu==="grid"){e(".grid-nav-icon").on("click",function(){t.transition(e(this).data("x"),e(this).data("y"));t.$activeGridEl.removeClass("grid-active");t.$activeGridEl=e(this).addClass("grid-active")})}else{e(".nav-buttons").find("a").on("click",function(){t.setCurrent(e(this).data("dir"));t.transition()})}},setCurrent:function(e){if(e==="next"||e==="prev"){var t=this.current[0];t+=~~(e==="next")||-1;this.current[0]=t<0?this.imgsLen[this.current[1]]-1:t%this.imgsLen[this.current[1]]}else{var n=this.current[1];n+=~~(e==="down")||-1;this.current[1]=n<0?this.list.length-1:n%this.list.length;if(this.current[0]>this.imgsLen[this.current[1]]-1){this.current[0]=this.imgsLen[this.current[1]]-1}}},transition:function(e,t){var n=this;if(e>=0&&t>=0){n.current[0]=e;n.current[1]=t}n.list.stop().animate({"margin-left":-(n.current[0]*n.imgWidth[n.current[1]]),top:-(n.current[1]*n.imgHeight[n.current[1]])},this.options.speed)}};e.fn.gridSlide=function(e){return this.each(function(){var t=Object.create(s);t.init(e,this)})};e.fn.gridSlide.options={nav:"#slider-nav",menu:"grid",title:false,imgGrid:false,speed:300}})(jQuery,window,document)
